<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="formulaire.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire</title>
</head>
<body>
    <h1>Formulaire</h1>
    <p>Veuillez remplir ce formulaire avec les informations requises</p>
        <form action="" id="formulaire">
            <fieldset>
                <label for="nom">saisir votre nom :</label>
                <input type="text" id="nom" placeholder="Écrivez ici" required>
                <span id="text"></span>
                <label for="prenom">saisir votre prénom :</label>
                <input type="text" id="prenom" placeholder="Écrivez ici" required>
                <span id="text_pre"></span>
                <label for="age">saisir votre âge :</label>
                <input type="text" id="age" placeholder="Écrivez ici" required min="18" max="120">
                <span id="text_age"></span>
                <label for="numero">saisir votre numéro :</label>
                <input type="text" id="numero" placeholder="Écrivez ici" required>
                <span id="text_num"></span>
                <label for="email">saisir votre email :</label>
                <input type="text" id="email" placeholder="Écrivez ici" required>
                <span id="text_email"></span>
                <label for="password">saisir une mot de passe :</label>
                <input type="password" id="password" placeholder="Écrivez ici" pattern="[a-z 0-9]{8,}" required>
                <span id="text_password"></span>
            </fieldset>
            <input id="envoyer" type="submit" value="envoyer" onclick="validerFormulaire()" onclick="validateForm(event)"/>
        </form>
    <script>
        document.getElementById("nom").addEventListener('input',function(){
            var nom = document.getElementById("nom").value;
            var text = document.getElementById("text");
            function alpha(ch)
        {ch=ch.toUpperCase();
        i=0;
    while((ch.charCodeAt(i)>=65)&&(ch.charCodeAt(i)<=90)&&(i<ch.length))
        i=i+1;
    if(i==ch.length)  return true;
    return false
    
    }
    if(alpha(nom)){
        text.innerHTML = "✅";
    }
    else{
        text.innerHTML = "❌";
    }


        })
        document.getElementById("prenom").addEventListener('input',function(){
            var prenom = document.getElementById("prenom").value;
            var textpre = document.getElementById("text_pre");
            function alpha(ch)
        {ch=ch.toUpperCase();
        i=0;
    while((ch.charCodeAt(i)>=65)&&(ch.charCodeAt(i)<=90)&&(i<ch.length))
        i=i+1;
    if(i==ch.length)  return true;
    return false
    
    }
    if(alpha(prenom)){
        textpre.innerHTML = "✅";
    }
    else{
        textpre.innerHTML = "❌";
    }
})
document.getElementById("age").addEventListener('input',function(){
            var age = document.getElementById("age").value;
            var textage = document.getElementById("text_age");
            function agee(ch)
        {ch=ch.toUpperCase();
        i=0;
    while((ch.charCodeAt(i)>=48)&&(ch.charCodeAt(i)<=57))
        i=i+1;
    if(i==ch.length)  return true;
    return false
    
    }
    if(agee(age)){
        textage.innerHTML = "✅";
    }
    else{
        textage.innerHTML = "❌";
    }


        })
        document.getElementById("numero").addEventListener('input',function(){
            var num = document.getElementById("numero").value;
            var textnum = document.getElementById("text_num");
            function numero(ch)
        {ch=ch.toUpperCase();
        i=0;
    while((ch.charCodeAt(i)>=48)&&(ch.charCodeAt(i)<=57)&&(ch.length>=8))
        i=i+1;
    if(i==ch.length)  return true;
    return false
    
    }
    if(numero(num)){
        textnum.innerHTML = "✅";
    }
    else{
        textnum.innerHTML = "❌";
    }


        })
        function alphas(ch)
    {
    ch=ch.toUpperCase();
    i=0;
    while((ch.charCodeAt(i)>=65)&&(ch.charCodeAt(i)<=90)&&(i<ch.length))
    i=i+1;
    if(i==ch.length) return true;
      return false;
    }
    function alphanum(ch){
    ch=ch.toUpperCase();
    i=0;
    while((ch.charCodeAt(i)>=65)&&(ch.charCodeAt(i)<=90)&&(i<ch.length)||(ch.charCodeAt(i)>=48)&&(ch.charCodeAt(i)<=57)&&(i<ch.length))
    i=i+1;
    if(i==ch.length) return true;
      return false;

    }
    document.getElementById("email").addEventListener('input',function(){
        var email = document.getElementById("email").value;
        var textemail = document.getElementById("text_email");
        function estmail(ch)
    {
      a= ch.indexOf("@");
      b= ch.lastIndexOf(".");
      x= ch.slice(0,a);
      y= ch.slice(a+1,b);
      z= ch.slice(b+1);
      if ((a ==-1)||(b == -1)||(! alphanum(x))|| (!alphanum(y))||(!alphas(z))||(z.length !=2 && z.length !=3)||(a >= b))
      return false;
      return true;
      
    }
    if(estmail(email)){
        textemail.innerHTML = "✅";
    }
    else{
        textemail.innerHTML = "❌";
    }
 })
 function passworde(ch){
    ch=ch.toUpperCase();
    i=0;
    while((ch.charCodeAt(i)>=1)&&(ch.charCodeAt(i)<=255)&&(i<ch.length))
    i=i+1;
    if(i==ch.length) return true;
      return false;
 }
 document.getElementById("password").addEventListener('input',function(){
    var pas = document.getElementById("password").value;
    var textpas = document.getElementById("text_password");
 function passworde(ch){
    ch=ch.toUpperCase();
    i=0;
    while((ch.charCodeAt(i)>=1)&&(ch.charCodeAt(i)<=255)&&(i<ch.length)&&(ch.length>8))
    i=i+1;
    if(i==ch.length) return true;
      return false;
 }
 if (passworde(pas)) {
      textpas.innerHTML = "✅";
    } else {
      textpas.innerHTML = "❌";
    }
})
        function validerFormulaire() {
			var nom = document.getElementById("nom").value;
			var prenom = document.getElementById("prenom").value;
			var age = document.getElementById("age").value;
            var numero = document.getElementById("numero").value;
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

			if (nom !== "" && prenom !== "" && age !== "" && numero !== "" && email !== "" && password !== "") {
				alert("Formulaire validé");
			} else {
				alert("Veuillez remplir tous les champs");
			}
		}
    </script>
    
</body>
</html>